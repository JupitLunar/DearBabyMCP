{"openapi":"3.1.0","info":{"title":"BabyAgent API","description":"API for baby tracking and health predictions","version":"0.1.0"},"paths":{"/":{"get":{"summary":"Ping","operationId":"ping__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"head":{"summary":"Root Head","operationId":"root_head__head","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/register":{"post":{"summary":"Register User","operationId":"register_user_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/language":{"put":{"summary":"Update User Language","description":"更新用户的语言设置。","operationId":"update_user_language_api_language_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LanguageUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/babies":{"get":{"summary":"Get All Babies","operationId":"get_all_babies_babies_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]},"post":{"summary":"Create Baby Profile","operationId":"create_baby_profile_babies_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BabyProfileCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/babies/{baby_id}":{"get":{"summary":"Get Baby Profile","operationId":"get_baby_profile_babies__baby_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"baby_id","in":"path","required":true,"schema":{"type":"string","title":"Baby Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/baby_logs":{"post":{"summary":"Create Baby Log","operationId":"create_baby_log_baby_logs_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BabyLogCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Get Baby Logs","operationId":"get_baby_logs_baby_logs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}},{"name":"log_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Log Type"}},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Start Date"}},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/reminders":{"post":{"summary":"Create Reminder","operationId":"create_reminder_reminders_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReminderCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Get Reminders","description":"Fetch reminders with daily summary statistics","operationId":"get_reminders_reminders_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}},{"name":"upcoming","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":false,"title":"Upcoming"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/reminders/{reminder_id}":{"patch":{"summary":"Update Reminder Status","description":"Mark a reminder as completed after verifying baby ownership.","operationId":"update_reminder_status_reminders__reminder_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"reminder_id","in":"path","required":true,"schema":{"type":"string","title":"Reminder Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health_predictions":{"post":{"summary":"Create Prediction","operationId":"create_prediction_health_predictions_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthPredictionCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/reminders/complete_by_log":{"post":{"summary":"Complete Reminder By Log","description":"Completes all uncompleted reminders of the given log_type for the baby.","operationId":"complete_reminder_by_log_reminders_complete_by_log_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompleteReminderByLog"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/account":{"delete":{"summary":"Delete Account","description":"删除用户账户及所有相关数据","operationId":"delete_account_account_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/healthz":{"get":{"summary":"Health Check","description":"Endpoint for service health monitoring","operationId":"health_check_healthz_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"head":{"summary":"Health Check","description":"Endpoint for service health monitoring","operationId":"health_check_healthz_head","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/feedback":{"post":{"summary":"Create Feedback","operationId":"create_feedback_feedback_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FeedbackCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/momprofile":{"get":{"summary":"Get Mom Profile","operationId":"get_mom_profile_momprofile_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]},"put":{"summary":"Update Mom Profile","operationId":"update_mom_profile_momprofile_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MomProfileUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/mom_logs":{"post":{"summary":"Create Mom Log","operationId":"create_mom_log_mom_logs_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MomLogCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/mom/onesentence":{"get":{"summary":"Get Today Mom Onesentence","operationId":"get_today_mom_onesentence_api_mom_onesentence_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MomOneSentenceResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/mom/summary":{"get":{"summary":"Get Today Mom Summary","operationId":"get_today_mom_summary_api_mom_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MomAnalysisResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/mom/health/daily":{"get":{"summary":"Get Mom Health Daily","operationId":"get_mom_health_daily_api_mom_health_daily_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]},"post":{"summary":"Save Mom Health Data","operationId":"save_mom_health_data_api_mom_health_daily_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Health Data"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/mom/health/weekly":{"get":{"summary":"Get Mom Weekly Health","operationId":"get_mom_weekly_health_api_mom_health_weekly_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/baby/updateprofile":{"put":{"summary":"Update Baby Profile","operationId":"update_baby_profile_api_baby_updateprofile_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BabyProfileUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/baby/summary/week":{"get":{"summary":"Get Weekly Baby Summary","operationId":"get_weekly_baby_summary_api_baby_summary_week_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/baby/health/daily":{"get":{"summary":"Get Baby Health Daily","operationId":"get_baby_health_daily_api_baby_health_daily_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/baby/summary":{"get":{"summary":"Get Baby Summary","operationId":"get_baby_summary_api_baby_summary_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BabyAnalysisResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/avatar/generate-upload-url":{"post":{"summary":"Generate Upload Url","operationId":"generate_upload_url_api_avatar_generate_upload_url_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadURLRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/image-url":{"get":{"summary":"Get User Image Url","operationId":"get_user_image_url_api_user_image_url_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/task/gpt":{"post":{"summary":"Create Task From Gpt","description":"Create task with health data","operationId":"create_task_from_gpt_api_task_gpt_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GPTTaskRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GPTTaskResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/task/save":{"post":{"summary":"Save Task","operationId":"save_task_api_task_save_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveTaskRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/task/update":{"post":{"summary":"Update Task Status Api","operationId":"update_task_status_api_api_task_update_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/task/incomplete":{"get":{"summary":"Get Incomplete Tasks","description":"Get all incomplete tasks and their subtasks for the current user.","operationId":"get_incomplete_tasks_api_task_incomplete_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Task"},"type":"array","title":"Response Get Incomplete Tasks Api Task Incomplete Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/emotion/today":{"get":{"summary":"Get Today Emotion","operationId":"get_today_emotion_api_emotion_today_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/emotion/card":{"get":{"summary":"Get Emotion Card","operationId":"get_emotion_card_api_emotion_card_get","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/emotion/scrapbook":{"get":{"summary":"Get Emotion Scrapbook","operationId":"get_emotion_scrapbook_api_emotion_scrapbook_get","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/emotion/trend":{"get":{"summary":"Get Emotion Trend","operationId":"get_emotion_trend_api_emotion_trend_get","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/emotion/milestone":{"get":{"summary":"Get Emotion Milestone","operationId":"get_emotion_milestone_api_emotion_milestone_get","parameters":[{"name":"user_id","in":"query","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat/emotion":{"post":{"summary":"Emotion Chat Handler","operationId":"emotion_chat_handler_api_chat_emotion_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"integer","default":0,"title":"Task Count"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat/history":{"get":{"summary":"Get Chat History","operationId":"get_chat_history_chat_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatMessage"},"title":"Response Get Chat History Chat History Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/chat/send":{"post":{"summary":"Send Chat Message","operationId":"send_chat_message_chat_send_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessageCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/chat/save":{"post":{"summary":"Save Chat Message","operationId":"save_chat_message_chat_save_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessageCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/chat/debug_history":{"get":{"summary":"Debug Chat History","description":"调试接口，用于查看最近的对话历史和构建的提示","operationId":"debug_chat_history_chat_debug_history_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Debug Chat History Chat Debug History Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/timeline":{"get":{"summary":"Get Timeline","operationId":"get_timeline_api_timeline_get","parameters":[{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Add Timeline","operationId":"add_timeline_api_timeline_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TimelineItem"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/timeline/{timeline_id}":{"delete":{"summary":"Delete Timeline","operationId":"delete_timeline_api_timeline__timeline_id__delete","parameters":[{"name":"timeline_id","in":"path","required":true,"schema":{"type":"string","title":"Timeline Id"}},{"name":"baby_id","in":"query","required":true,"schema":{"type":"string","title":"Baby Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/timeline/generate-upload-url":{"post":{"summary":"Generate Upload Url","operationId":"generate_upload_url_api_timeline_generate_upload_url_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UploadURLRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/saveUserFeatures":{"post":{"summary":"Save User Features","operationId":"save_user_features_api_saveUserFeatures_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveUserFeaturesRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/getUserFeatures":{"get":{"summary":"Get User Features","operationId":"get_user_features_api_getUserFeatures_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/recommendFeatures":{"get":{"summary":"Recommend Features","operationId":"recommend_features_api_recommendFeatures_get","parameters":[{"name":"ageInMonths","in":"query","required":true,"schema":{"type":"integer","title":"Ageinmonths"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/qa/ask":{"post":{"summary":"Ask Question","operationId":"ask_question_api_qa_ask_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QaRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QaResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/qa/history":{"get":{"summary":"Get Qa History","operationId":"get_qa_history_api_qa_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/events/generate":{"post":{"summary":"Generate Events","operationId":"generate_events_events_generate_post","parameters":[{"name":"city","in":"query","required":true,"schema":{"type":"string","description":"城市名称（如 Edmonton）","title":"City"},"description":"城市名称（如 Edmonton）"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/event_items":{"get":{"summary":"Get Events","operationId":"get_events_event_items_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"city","in":"query","required":true,"schema":{"type":"string","title":"City"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EventResponseModel"},"title":"Response Get Events Event Items Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/email-confirmed":{"get":{"summary":"Email Confirmed","operationId":"email_confirmed_email_confirmed_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/knowledge/search":{"post":{"tags":["Knowledge Base"],"summary":"Search Knowledge","description":"搜索育儿知识库\n\n支持：\n- 语义向量搜索 (RAG)\n- 按分类过滤\n- 按宝宝年龄过滤\n- 按紧急程度过滤","operationId":"search_knowledge_api_knowledge_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/KnowledgeSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/KnowledgeSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/knowledge/create":{"post":{"tags":["Knowledge Base"],"summary":"Create Knowledge","description":"创建新的知识条目（管理员功能）","operationId":"create_knowledge_api_knowledge_create_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/KnowledgeCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/KnowledgeItem"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/knowledge/categories":{"get":{"tags":["Knowledge Base"],"summary":"Get Categories","description":"获取所有可用的分类和子分类","operationId":"get_categories_api_knowledge_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"items":{"type":"string"},"type":"array"},"type":"object","title":"Response Get Categories Api Knowledge Categories Get"}}}}}}},"/api/knowledge/categories/list":{"get":{"tags":["Knowledge Base"],"summary":"Get Category List","description":"获取主要分类列表","operationId":"get_category_list_api_knowledge_categories_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response Get Category List Api Knowledge Categories List Get"}}}}}}},"/api/knowledge/search/simple":{"post":{"tags":["Knowledge Base"],"summary":"Simple Search","description":"简化版搜索接口（便于前端快速接入）","operationId":"simple_search_api_knowledge_search_simple_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}},{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"baby_age_months","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Baby Age Months"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":5,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/knowledge/emergency":{"get":{"tags":["Knowledge Base"],"summary":"Get Emergency Knowledge","description":"获取紧急情况相关知识","operationId":"get_emergency_knowledge_api_knowledge_emergency_get","parameters":[{"name":"baby_age_months","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Baby Age Months"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/google-redirect":{"get":{"summary":"Google Redirect","operationId":"google_redirect_auth_google_redirect_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"BabyAnalysisResponse":{"properties":{"summary":{"type":"string","title":"Summary"},"next_action":{"type":"string","title":"Next Action"}},"type":"object","required":["summary","next_action"],"title":"BabyAnalysisResponse"},"BabyLogCreate":{"properties":{"baby_id":{"type":"string","title":"Baby Id"},"log_type":{"type":"string","enum":["feeding","diaper","sleep","cry","bowel","outside","vitamin_d","solid_food","exercise","tummy_time","growth","bath_time","story_time"],"title":"Log Type"},"log_data":{"additionalProperties":true,"type":"object","title":"Log Data"},"logged_at":{"type":"string","format":"date-time","title":"Logged At"}},"type":"object","required":["baby_id","log_type","log_data","logged_at"],"title":"BabyLogCreate"},"BabyProfile":{"properties":{"name":{"type":"string","title":"Name"},"birth_date":{"type":"string","title":"Birth Date"},"gender":{"type":"string","title":"Gender"},"birth_weight":{"type":"number","title":"Birth Weight"},"birth_height":{"type":"number","title":"Birth Height"},"avatar":{"type":"string","title":"Avatar","default":""}},"type":"object","required":["name","birth_date","gender","birth_weight","birth_height"],"title":"BabyProfile"},"BabyProfileCreate":{"properties":{"name":{"type":"string","title":"Name"},"birth_date":{"type":"string","format":"date-time","title":"Birth Date"},"gender":{"type":"string","enum":["male","female","other"],"title":"Gender"},"birth_weight":{"type":"number","title":"Birth Weight"},"birth_height":{"type":"number","title":"Birth Height"}},"type":"object","required":["name","birth_date","gender","birth_weight","birth_height"],"title":"BabyProfileCreate"},"BabyProfileUpdate":{"properties":{"name":{"type":"string","title":"Name"},"birth_date":{"type":"string","title":"Birth Date"},"gender":{"type":"string","title":"Gender"},"birth_weight":{"type":"number","title":"Birth Weight"},"birth_height":{"type":"number","title":"Birth Height"},"avatar":{"type":"string","title":"Avatar"}},"type":"object","required":["name","birth_date","gender","birth_weight","birth_height"],"title":"BabyProfileUpdate"},"ChatMessage":{"properties":{"message":{"type":"string","title":"Message"},"role":{"type":"string","title":"Role"},"timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp"},"emotion_label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Emotion Label"},"source":{"type":"string","title":"Source","default":"chatbot"}},"type":"object","required":["message","role","timestamp"],"title":"ChatMessage"},"ChatMessageCreate":{"properties":{"message":{"type":"string","title":"Message"},"role":{"type":"string","title":"Role"},"emotion_label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Emotion Label"},"source":{"type":"string","title":"Source","default":"chatbot"}},"type":"object","required":["message","role"],"title":"ChatMessageCreate"},"ChatResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","message"],"title":"ChatResponse"},"CompleteReminderByLog":{"properties":{"baby_id":{"type":"string","title":"Baby Id"},"log_type":{"type":"string","title":"Log Type"}},"type":"object","required":["baby_id","log_type"],"title":"CompleteReminderByLog"},"EventResponseModel":{"properties":{"url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Url","default":""},"date":{"type":"string","title":"Date"},"date_end":{"type":"string","title":"Date End"},"name":{"type":"string","title":"Name"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location","default":""},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","default":""},"price_range":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Price Range","default":""}},"type":"object","required":["date","date_end","name"],"title":"EventResponseModel"},"FeedbackCreate":{"properties":{"message":{"type":"string","title":"Message"},"rating":{"type":"integer","title":"Rating"}},"type":"object","required":["message","rating"],"title":"FeedbackCreate"},"GPTTaskRequest":{"properties":{"task_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Task Id"},"input_text":{"type":"string","title":"Input Text"},"mom_health_status":{"additionalProperties":true,"type":"object","title":"Mom Health Status"},"baby_health_status":{"additionalProperties":true,"type":"object","title":"Baby Health Status"}},"type":"object","required":["input_text"],"title":"GPTTaskRequest"},"GPTTaskResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"category":{"type":"string","title":"Category"},"output":{"items":{"$ref":"#/components/schemas/SimpleTaskModel"},"type":"array","title":"Output"}},"type":"object","required":["success","message","category","output"],"title":"GPTTaskResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthPredictionCreate":{"properties":{"baby_id":{"type":"string","title":"Baby Id"},"prediction_type":{"type":"string","title":"Prediction Type"},"description":{"type":"string","title":"Description"},"recommended_action":{"additionalProperties":true,"type":"object","title":"Recommended Action"}},"type":"object","required":["baby_id","prediction_type","description","recommended_action"],"title":"HealthPredictionCreate"},"KnowledgeCreateRequest":{"properties":{"category":{"type":"string","enum":["feeding","solid_food","vaccines","development","behavior","health","sleep","safety"],"title":"Category"},"sub_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sub Category"},"question":{"type":"string","title":"Question"},"answer":{"type":"string","title":"Answer"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"source":{"type":"string","title":"Source"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url"},"age_range_min":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Age Range Min"},"age_range_max":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Age Range Max"},"urgency_level":{"type":"string","enum":["emergency","urgent","normal"],"title":"Urgency Level","default":"normal"}},"type":"object","required":["category","question","answer","tags","source"],"title":"KnowledgeCreateRequest"},"KnowledgeItem":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"category":{"type":"string","title":"Category"},"sub_category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sub Category"},"question":{"type":"string","title":"Question"},"answer":{"type":"string","title":"Answer"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags"},"source":{"type":"string","title":"Source"},"source_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Url"},"age_range_min":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Age Range Min"},"age_range_max":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Age Range Max"},"urgency_level":{"type":"string","title":"Urgency Level"},"similarity_score":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Similarity Score"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","category","sub_category","question","answer","tags","source","source_url","age_range_min","age_range_max","urgency_level","created_at","updated_at"],"title":"KnowledgeItem"},"KnowledgeSearchRequest":{"properties":{"query":{"type":"string","title":"Query"},"category":{"anyOf":[{"type":"string","enum":["feeding","solid_food","vaccines","development","behavior","health","sleep","safety"]},{"type":"null"}],"title":"Category"},"baby_age_months":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Baby Age Months"},"urgency_level":{"anyOf":[{"type":"string","enum":["emergency","urgent","normal"]},{"type":"null"}],"title":"Urgency Level"},"limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit","default":5}},"type":"object","required":["query"],"title":"KnowledgeSearchRequest"},"KnowledgeSearchResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/KnowledgeItem"},"type":"array","title":"Results"},"total_found":{"type":"integer","title":"Total Found"},"search_method":{"type":"string","title":"Search Method"},"query":{"type":"string","title":"Query"},"suggestions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Suggestions"}},"type":"object","required":["results","total_found","search_method","query"],"title":"KnowledgeSearchResponse"},"LanguageUpdateRequest":{"properties":{"language":{"type":"string","title":"Language"}},"type":"object","required":["language"],"title":"LanguageUpdateRequest"},"MomAnalysisResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"summary":{"type":"string","title":"Summary"}},"type":"object","required":["success","summary"],"title":"MomAnalysisResponse"},"MomLogCreate":{"properties":{"log_type":{"type":"string","title":"Log Type"},"log_data":{"additionalProperties":true,"type":"object","title":"Log Data"},"logged_at":{"type":"string","format":"date-time","title":"Logged At"}},"type":"object","required":["log_type","log_data"],"title":"MomLogCreate"},"MomOneSentenceResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"onesentence":{"type":"string","title":"Onesentence"}},"type":"object","required":["success","onesentence"],"title":"MomOneSentenceResponse"},"MomProfile":{"properties":{"display_name":{"type":"string","title":"Display Name"},"avatar_url":{"type":"string","title":"Avatar Url"},"bio":{"type":"string","title":"Bio"},"last_period_start_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Period Start Date"},"birth_date":{"type":"string","title":"Birth Date"},"average_cycle_days":{"type":"integer","title":"Average Cycle Days"},"period_tracking_enabled":{"type":"boolean","title":"Period Tracking Enabled"},"period_data_source":{"type":"string","title":"Period Data Source"},"timezone":{"type":"string","title":"Timezone"},"location":{"type":"string","title":"Location"},"occupation":{"type":"string","title":"Occupation","default":""},"language":{"type":"string","title":"Language","default":"en"}},"type":"object","required":["display_name","avatar_url","bio","last_period_start_date","birth_date","average_cycle_days","period_tracking_enabled","period_data_source","timezone","location"],"title":"MomProfile"},"MomProfileUpdate":{"properties":{"display_name":{"type":"string","title":"Display Name"},"birthday":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Birthday"},"last_period_start_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Period Start Date"},"average_cycle_days":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Average Cycle Days"},"occupation":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Occupation"},"bio":{"type":"string","title":"Bio","default":""}},"type":"object","required":["display_name"],"title":"MomProfileUpdate"},"QaRequest":{"properties":{"question":{"type":"string","title":"Question"},"image_base64":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Base64"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","default":"qa"}},"type":"object","required":["question"],"title":"QaRequest"},"QaResponse":{"properties":{"answer":{"type":"string","title":"Answer"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url"}},"type":"object","required":["answer","created_at"],"title":"QaResponse"},"RegisterRequest":{"properties":{"mom":{"$ref":"#/components/schemas/MomProfile"},"baby":{"$ref":"#/components/schemas/BabyProfile"}},"type":"object","required":["mom","baby"],"title":"RegisterRequest"},"ReminderCreate":{"properties":{"baby_id":{"type":"string","title":"Baby Id"},"reminder_type":{"type":"string","enum":["feed","diaper","sleep"],"title":"Reminder Type"},"reminder_time":{"type":"string","format":"date-time","title":"Reminder Time"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","required":["baby_id","reminder_type","reminder_time"],"title":"ReminderCreate"},"SaveTaskRequest":{"properties":{"main_task":{"$ref":"#/components/schemas/TaskModel"},"sub_tasks":{"items":{"$ref":"#/components/schemas/TaskModel"},"type":"array","title":"Sub Tasks"}},"type":"object","required":["main_task","sub_tasks"],"title":"SaveTaskRequest"},"SaveUserFeaturesRequest":{"properties":{"featureIds":{"items":{"type":"string"},"type":"array","title":"Featureids"}},"type":"object","required":["featureIds"],"title":"SaveUserFeaturesRequest"},"SimpleTaskModel":{"properties":{"title":{"type":"string","title":"Title"}},"type":"object","required":["title"],"title":"SimpleTaskModel"},"SubTask":{"properties":{"id":{"type":"string","title":"Id"},"text":{"type":"string","title":"Text"},"done":{"type":"boolean","title":"Done"},"due_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Due Date"}},"type":"object","required":["id","text","done"],"title":"SubTask"},"Task":{"properties":{"id":{"type":"string","title":"Id"},"text":{"type":"string","title":"Text"},"type":{"type":"string","title":"Type"},"done":{"type":"boolean","title":"Done"},"subTasks":{"items":{"$ref":"#/components/schemas/SubTask"},"type":"array","title":"Subtasks"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"created_at":{"type":"string","title":"Created At"},"completed":{"type":"boolean","title":"Completed"},"due_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Due Date"}},"type":"object","required":["id","text","type","done","subTasks","title","description","created_at","completed"],"title":"Task"},"TaskModel":{"properties":{"id":{"type":"string","title":"Id"},"text":{"type":"string","title":"Text"},"type":{"type":"string","title":"Type"},"due_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Due Date"}},"type":"object","required":["id","text","type"],"title":"TaskModel"},"TaskUpdate":{"properties":{"id":{"type":"string","title":"Id"},"done":{"type":"boolean","title":"Done"},"due_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Due Date"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"}},"type":"object","required":["id","done"],"title":"TaskUpdate"},"TaskUpdateRequest":{"properties":{"main_task":{"$ref":"#/components/schemas/TaskUpdate"},"sub_tasks":{"items":{"$ref":"#/components/schemas/TaskUpdate"},"type":"array","title":"Sub Tasks"}},"type":"object","required":["main_task","sub_tasks"],"title":"TaskUpdateRequest"},"TimelineItem":{"properties":{"baby_id":{"type":"string","title":"Baby Id"},"user_id":{"type":"string","title":"User Id"},"date":{"type":"string","format":"date","title":"Date"},"title":{"type":"string","title":"Title"},"emoji":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Emoji","default":""},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","default":""},"image_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Image Url","default":""}},"type":"object","required":["baby_id","user_id","date","title"],"title":"TimelineItem"},"UploadURLRequest":{"properties":{"contentType":{"type":"string","title":"Contenttype","default":"image/jpeg"},"babyId":{"type":"string","title":"Babyid"}},"type":"object","required":["babyId"],"title":"UploadURLRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}